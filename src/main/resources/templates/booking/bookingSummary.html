<!DOCTYPE html>

<html lang="en" xmlns:th="https://www.thymeleaf.org">

<head>
    <title>Hotel Management</title>
    <meta content="CreateBooking" name="page">
    <placeholder th:replace="fragments/main.html :: head"></placeholder>
</head>
<body>
<header th:replace="fragments/main.html :: header"></header>

<div class="container">
    <h4>Room Booking - Summary</h4>

    <div th:replace="fragments/errorMessage"></div>

    <form action="/booking/summary" method="post">
        <!--/*@thymesVar id="bookingForm" type="fhv.teamd.hotel.view.forms.BookingForm"*/-->

        <div th:replace="fragments/chooseCategories :: chooseCategoriesHidden(chooseCategoriesForm = 'bookingForm.chooseCategoriesForm')"></div>
        <div th:replace="fragments/personalDetails :: personalDetailsHidden(personalDetailsForm = 'bookingForm.personalDetailsForm')"></div>

        <div th:object="${bookingForm.chooseCategoriesForm}">
            <!-- selected time period -->
            <h6>Period</h6><br>
            <div class="row">
                <div class="col s3 valign-wrapper">
                    <i class="material-icons">date_range</i>&nbsp
                    <span style="font-weight: bold">From</span>
                </div>
                <div class="col s9">
                    <span th:text="*{from}"></span>
                </div>
            </div>
            <div class="row">
                <div class="col s3 valign-wrapper">
                    <i class="material-icons">date_range</i>&nbsp
                    <span style="font-weight: bold">Until</span>
                </div>
                <div class="col s9">
                    <span th:text="*{until}"></span>
                </div>
            </div>

            <div class="divider"></div>

            <!-- selected categories -->
            <h6>Categories</h6><br>
            <div class="row" th:each="category: ${categories}">
                <div class="col s3 valign-wrapper">
                    <span style="font-weight: bold" th:text="${category.title()}"></span>
                </div>
                <div class="col s9">
                    <span th:text="*{categorySelection['__${category.id}__']}"></span>
                </div>
            </div>
        </div>

        <div class="divider"></div>

        <div th:object="${bookingForm.personalDetailsForm}">
            <!-- selected guest/group data -->
            <h6>Guest or Group Data</h6><br>
            <div class="row">
                <div class="col s3 valign-wrapper">
                    <i class="material-icons">account_circle</i>&nbsp
                    <span style="font-weight: bold">Name</span>
                </div>
                <div class="col s9">
                    <span th:text="*{guestFirstName + ' ' + guestLastName}"></span>
                </div>
            </div>
            <div class="row">
                <div class="col s3 valign-wrapper">
                    <i class="material-icons">location_city</i>&nbsp
                    <span style="font-weight: bold">Address</span>
                </div>
                <div class="col s9">
                    <span th:text="*{guestStreet + ', ' + guestZip + ' ' + guestCity + ', ' + guestCountry}"></span>
                </div>
            </div>

            <div class="divider"></div>

            <!-- selected representative data -->
            <div class="section">
                <h6>Representative Data</h6><br>
                <div class="row">
                    <div class="col s3 valign-wrapper">
                        <i class="material-icons">account_circle</i>&nbsp
                        <span style="font-weight: bold">Name</span>
                    </div>
                    <div class="col s9">
                        <span th:text="*{representativeFirstName + ' ' + representativeLastName}"></span>
                    </div>
                </div>
                <div class="row">
                    <div class="col s3 valign-wrapper">
                        <i class="material-icons">location_city</i>&nbsp
                        <span style="font-weight: bold">Address</span>
                    </div>
                    <div class="col s9">
                        <span th:text="*{representativeStreet + ', ' + representativeZip + ' ' + representativeCity + ', ' + representativeCountry}"></span>
                    </div>
                </div>
                <div class="row">
                    <div class="col s3 valign-wrapper">
                        <i class="material-icons">email</i>&nbsp
                        <span style="font-weight: bold">Email</span>
                    </div>
                    <div class="col s9">
                        <span th:text="*{representativeMail}"></span>
                    </div>
                </div>
                <div class="row">
                    <div class="col s3 valign-wrapper">
                        <i class="material-icons">phone</i>&nbsp
                        <span style="font-weight: bold">Phone</span>
                    </div>
                    <div class="col s9">
                        <span th:text="*{representativePhone}"></span>
                    </div>
                </div>
                <div class="row">
                    <div class="col s3 valign-wrapper">
                        <i class="material-icons">euro_symbol</i>&nbsp
                        <span style="font-weight: bold">Payment</span>
                    </div>
                    <div class="col s9">
                        <span th:text="*{representativePaymentMethod.getDisplayValue}"></span>
                    </div>
                </div>
                <div class="row">
                    <div class="col s3 valign-wrapper">
                        <i class="material-icons">payment</i>&nbsp
                        <span style="font-weight: bold">Credit Card Number</span>
                    </div>
                    <div class="col s9">
                        <span th:text="*{representativeCreditCardNumber}"></span>
                    </div>
                </div>
            </div>

            <div th:if="*{organizationDropDownId != 'noOrganization'}">
                <div class="divider"></div>

                <!-- selected organization data -->
                <div class="section">
                    <h6>Organization Data (Optional)</h6><br>
                    <div class="row">
                        <div class="col s3 valign-wrapper">
                            <i class="material-icons">group</i>&nbsp
                            <span style="font-weight: bold">Organization Name</span>
                        </div>
                        <div class="col s9">
                            <span th:text="*{organizationName}"></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s3 valign-wrapper">
                            <i class="material-icons">location_city</i>&nbsp
                            <span style="font-weight: bold">Address</span>
                        </div>
                        <div class="col s9">
                            <span th:text="*{organizationStreet + ', ' + organizationZip + ' ' + organizationCity + ', ' + organizationCountry}"></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s3 valign-wrapper">
                            <i class="material-icons">local_offer</i>&nbsp
                            <span style="font-weight: bold">Discount</span>
                        </div>
                        <div class="col s9">
                            <span th:text="*{discount + ' %'}"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- create booking -->
        <div class="row right-align">
            <button class="btn waves-effect waves-light blue accent-2"
                    name="action" type="submit" value="prev">Back
                <i class="material-icons left">navigate_before</i>
            </button>
            <button class="btn waves-effect waves-light blue accent-2"
                    name="action" type="submit" value="next">Create Booking
                <i class="material-icons right">done</i>
            </button>
            <a class="btn waves-effect waves-light red accent-2" href="/">Cancel
                <i class="material-icons right">cancel</i>
            </a>
        </div>
    </form>
</div>

<footer th:replace="fragments/main.html :: footer"></footer>
</body>
</html>